---
date: 2023-08-07T18:15:28+08:00
title: "从零开始的计算机网络6-5"
draft: false
description: "六.应用层"
url: "/learn/1-6-5"
keywords:
- 计算机网络
categories:
- 学
tags:
- 计算机网络
---

# 文件传送协议FTP

将某台计算机中的文件通过网络传送到可能相距很远的另一台计算机中，是一项基本的网络应用，即文件传送。**文件传送协议FTP** (File Transfer Protocol)是因特网上使用得最广泛的文件传送协议。

- FTP**提供交互式的访问**，允许客户**指明文件的类型与格式**(如指明是否使用ASCII码)，并允许**文件具有存取权限**（如访问文件的用户必须经过授权，并输入有效的口令）。

- **FTP屏蔽了各计算机系统的细节，因而适合于在异构网络中任意计算机之间传送文件**。

在因特网发展的早期阶段，用FTP传送文件约占整个因特网的通信量的三分之一，而由电子邮件和域名系统所产生的通信量还要小于FTP所产生的通信量。只是到了1995年，万维网WWW的通信量才首次超过了FTP。

FTP的常见用途是在计算机之间传输文件，尤其是用于批量传输文件。

FTP的另一个常见用途是让网站设计者将构成网站内容的大量文件批量上传到他们的Web服务器。

FTP的基本工作原理

![](https://img.0pt.im/computernet/6-5/6-5-1.png)

2:控制连接在整个会话期间一直保持打开，用于传送FTP相关控制命令。

5:数据连接用于文件传输，在每次文件传输时才建立，传输结束就关闭。

![](https://img.0pt.im/computernet/6-5/6-5-2.png)

例题：FTP客户和服务器间传递FTP命令时，使用的连接是

A.建立在TCP之上的控制连接    B.建立在TCP之上的数据连接

C.建立在UDP之上的控制连接    D.建立在UDP之上的数据连接

解析：FTP客户和服务器之间要建立以下两个并行的TCP连接:

一个是控制连接，在整个会话期间一直保持打开，用于传送FTP相关控制命令.另一个是数据连接，用于文件传输，在每次文件传输时才建立，传输结束就关闭。

例题：下列关于FTP协议的叙述中，错误的是

A.数据连接在每次数据传输完毕后就关闭   B.控制连接在整个会话期间保持打开状态 

C.服务器与客户端的TCP20端口建立数据连接  D.客户端与服务器的TCP21端口建立控制连接

解析：FTP客户和服务器之间要建立“控制连接”和“数据连接”这两个并行的TCP连接。控制连接在整个会话期间都保持打开状态，而数据连接在每次文件传输时才建立，传输结束就关闭。

默认情况下，FTP使用TCP21端口进行控制连接，TCP20端口进行数据连接。

但是，是否使用TCP 20端口建立数据连接与传输模式有关，主动方式使用TCP20端口，被动方式由服务器和客户端自行协商决定。
