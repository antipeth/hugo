<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>计算机网络 | 春风少年兄</title><meta name=keywords content><meta name=description content="欢迎来到世纪大道"><meta name=author content="Me"><link rel=canonical href=https://blog.0pt.im/zh/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.4b652714b710c7fd948e965adf64e815b9d09f68a358365c02ac09b95e5516be.css integrity="sha256-S2UnFLcQx/2UjpZa32ToFbnQn2ijWDZcAqwJuV5VFr4=" rel="preload stylesheet" as=style><link rel=icon href=https://img.0pt.im/blogbuilt/title.jpeg><link rel=icon type=image/png sizes=16x16 href=https://img.0pt.im/blogbuilt/title.jpeg><link rel=icon type=image/png sizes=32x32 href=https://img.0pt.im/blogbuilt/title.jpeg><link rel=apple-touch-icon href=https://img.0pt.im/blogbuilt/title.jpeg><link rel=mask-icon href=https://img.0pt.im/blogbuilt/title.jpeg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.0pt.im/zh/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="计算机网络"><meta property="og:description" content="欢迎来到世纪大道"><meta property="og:type" content="website"><meta property="og:url" content="https://blog.0pt.im/zh/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><meta property="og:image" content="https://blog.0pt.im/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="春风少年兄"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.0pt.im/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="计算机网络"><meta name=twitter:description content="欢迎来到世纪大道"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.0pt.im/zh/ accesskey=h title="世纪大道 (Alt + H)"><img src=https://blog.0pt.im/apple-touch-icon.png alt aria-label=logo height=35>世纪大道</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.0pt.im/zh/search title=找><span>找</span></a></li><li><a href=https://blog.0pt.im/zh/learn/ title=学><span>学</span></a></li><li><a href=https://blog.0pt.im/zh/music/ title=音><span>音</span></a></li><li><a href=https://blog.0pt.im/zh/game/ title=游><span>游</span></a></li><li><a href=https://blog.0pt.im/zh/think/ title=感><span>感</span></a></li><li><a href=https://blog.0pt.im/zh/link/ title=链><span>链</span></a></li><li><a href=https://blog.0pt.im/zh/archives title=时><span>时</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://blog.0pt.im/zh/>主页</a>&nbsp;»&nbsp;<a href=https://blog.0pt.im/zh/tags/>Tags</a></div><h1>计算机网络
<a href=/zh/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>从零开始的计算机网络4-7</h2></header><div class=entry-content><p>IPv4数据报的首部格式 首部长度
占4比特，表示IP数据报首部的长度。该字段的取值以4字节为单位。
最小十进制取值为5，表示IP数据报首部只有20字节固定部分;
最大十进制取值为15，表示IP数据报首部包含20字节固定部分和最大40字节可变部分; 可选字段
长度从1个字节到40个字节不等。用来支持排错、测量及安全等措施。
可选字段增加了IP数据报的功能，但这同时也使得IP数据报的首部长度成为可变的。这就增加了每一个路由器处理IP数据报的开销。实际上可选字段很少被使用。
填充字段
确保首部长度为4字节的整数倍。使用全0进行填充。 区分服务
占8比特，用来获得更好的服务。
该字段在旧标准中叫作服务类型，但实际上一直没有被使用过。1998年，因特网工程任务组IETF把这个字段改名为区分服务。利用该字段的不同数值可提供不同等级的服务质量。
只有在使用区分服务时，该字段才起作用。一般情况下都不使用该字段。
总长度
占16比特，表示IP数据报的总长度（首部+数据载荷)。
最大取值为十进制的65535，以字节为单位。
举例：（）为二进制 首部长度=(0101) x 4 = 5 x 4 = 20(字节)
总长度=(0000001111111100) = 1020(字节)
数据载荷长度=总长度-首部长度=1020 - 20 = 1000(字节)
标识
占16比特，属于同一个数据报的各分片数据报应该具有相同的标识。
IP软件维持一个计数器，每产生一个数据报，计数器值加1，并将此值赋给标识字段。
标志
占3比特，各比特含义如下:
DF位:1表示不允许分片;0表示允许分片
MF位:1表示“后面还有分片”;0表示“这是最后一个分片”
保留位:必须为0
片偏移
占13比特，指出分片数据报的数据载荷部分偏移其在原数据报的位置有多少个单位。
片偏移以8个字节为单位。
举例：对IPv4数据报进行分片
片偏移除8是因为片偏移是以字节做单位。
生存时间TTL
占8比特，最初以秒为单位，最大生存周期为255秒;路由器转发IP数据报时，将IP数据报首部中的该字段的值减去IP数据报在本路由器上所耗费的时间，若不为0就转发，否则就丢弃。
现在以“跳数”为单位，路由器转发IP数据报时，将IP数据报首部中的该字段的值减1，若不为0就转发，否则就丢弃。
防止IP数据报在网络中永久兜圈。（前面有提到）
协议
占8比特，指明IPv4数据报的数据部分是何种协议数据单元。常用的一些协议和相应的协议字段值如下。 协议名称 ICMP IGMP TCP UDP lPv6 OSPF 协议字段值 1 2 6 17 41 89 首部检验和
占16比特，用来检测首部在传输过程中是否出现差错。比CRC检验码简单，称为因特网检验和....</p></div><footer class=entry-footer><span title='2023-07-28 18:09:28 +0800 CST'>七月 28, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;88 字&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 从零开始的计算机网络4-7" href=https://blog.0pt.im/learn/1-4-7/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>从零开始的计算机网络4-6</h2></header><div class=entry-content><p>路由选择协议概述 静态路由选择
由人工配置的网络路由、默认路由、特定主机路由、黑洞路由等都属于静态路由。
这种人工配置方式简单、开销小。
但不能及时适应网络状态(流量、拓扑等)的变化。
一般只在小规模网络中采用。
动态路由选择
路由器通过路由选择协议自动获取路由信息。
比较复杂、开销比较大。
能较好地适应网络状态的变化。
适用于大规模网络。
因特网所采用的路由选择协议的主要特点
自适应：动态路由选择，能较好地适应网络状态的变化
分布式：路由器之间交换路由信息
分层次：将整个因特网划分为许多较小的自治系统AS(Autonomous System)
因特网采用分层次的路由选择协议
域间路由选择采用外部网关协议EGP
域内路由选择采用内部网关协议IGP
只是路由选择协议的分类名称，不是具体的路由选择协议。网关一词是因为在早期
常见的路由选择协议
路由选择协议
内部网关协议IGP
路由信息协议RIP 基于距离向量，RIP在因特网上最早使用
内部网关路由协议IGRP 基于距离向量，是思科早期私有的协议，现在已被EIGRP取代
增强型内部网关路由协议EIGRP 思科私有的，用来取代IGRP的混合型路由协议(结合距离向量和链路状态)
开放式最短路径优先OSPF 基于链路状态，在各种网络中广泛使用
中间系统到中间系统IS-IS 基于链路状态，是ISP骨干网上最长常用的IGP协议
外部网关协议EGP
边界网关协议BGP 路由器的基本结构
路由表一般仅包含从目的网络到下一跳的映射
路由表需要对网络拓扑变化的计算最优化
转发表是从路由表得出的 转发表的结构应当使查找过程最优化
为方便理解，不严格区分路由表和转发表。
路由信息协议RIP的基本工作原理 路由信息协议RIP(Routing Information Protocol)是内部网关协议IGP中最先得到广泛使用的协议之一，其相关标准文档为RFC 1058。
RIP要求自治系统AS内的每一个路由器都要维护从它自己到AS内其他每一个网络的距离记录。这是一组距离，称为“距离向量D-V(Distance-Vector)”。
RIP使用跳数(Hop Count)作为度量(Metric)来衡量到达目的网络的距离。
路由器到直连网络的距离定义为1。
路由器到非直连网络的距离定义为所经过的路由器数加1。
允许一条路径最多只能包含15个路由器。“距离”等于16时相当于不可达。因此，RIP只适用于小型互联网。
RIP认为好的路由就是“距离短”的路由，也就是所通过路由器数量最少的路由。当到达同一目的网络有多条“距离相等”的路由时，可以进行等价负载均衡。
RIP包含以下三个要点:
和谁交换信息 仅和相邻路由器交换信息
交换什么信息 自己的路由表
何时交换信息 周期性交换（例如每30秒)
RIP基本工作过程
路由器刚开始工作时，只知道自己到直连网络的距离为1。
每个路由器仅和相邻路由器周期性地交换并更新路由信息。
若干次交换和更新后，每个路由器都知道到达本AS内各网络的最短距离和下一跳地址，称为收敛。
RIP的路由条目的更新规则
C将其路由表发给D，结果D改造，对D原有路由表进行更新。
例题：某自治系统内采用RIP协议，若该自治系统内的路由器R1收到其邻居路由器R2的距离矢量，距离矢量中包含信息&lt; net1,16 >，则能得出的结论是
A.R2可以经过R1到达net1，跳数为17 B....</p></div><footer class=entry-footer><span title='2023-07-27 18:09:28 +0800 CST'>七月 27, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;193 字&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 从零开始的计算机网络4-6" href=https://blog.0pt.im/learn/1-4-6/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>从零开始的计算机网络4-5</h2></header><div class=entry-content><p>静态路由配置及其可能产生的路由环路问题 静态路由配置是指用户或网络管理员使用路由器的相关命令给路由器人工配置路由表。
这种人工配置方式简单、开销小。但不能及时适应网络状态(流量、拓扑等)的变化。
一般只在小规模网络中采用。
使用静态路由配置可能出现以下导致产生路由环路的错误
配置错误
聚合了不存在的网络
网络故障
假设R1要转发给192.168.2.0/24，应该转发给R2的接口0。但是R1路由表除了直连自动识别外，没有R2接口0，换句话说，R1不知道目的网络的存在。
因此，我们可以使用路由器的相关配置命令，给R1添加一条到达该目的网络的路由条目。
该路由条目是是我们人工设置的静态路由。
默认路由为0.0.0.0/0，对于本例，下一跳为R2的接口0
人工配置默认路由，减少人工配置工作量，可以删了上一个静态路由。
特定主机路由
静态路由配置错误导致路由环路
R2要转发IP数据报给192.168.1.0/24，但是把静态路由配错了如图所示。如何会发给R3，R3检查路由表，把该数据报发给R2,R2检查路由表，又发给R3，形成路由环路。
为了防止IP数据报在路由环路中永久兜圈，在IP数据报首部设有生存时间TTL字段。
IP数据报进入路由器后，TTL字段的值减1。若TTL的值不等于0，则被路由器转发，否则被丢弃。
聚合了不存在的网络而导致的路由环路
先把黑洞路由当作不存在。R2要转发给192.168.2.0/24，检查路由表，发现192.168.0.0/22的聚合路由，于是发送给R1，R1检查路由表，匹配192.168.2.0/24，于是发送给192.168.2.0/24。
但是，聚合路由192.168.0.0/22包含4个IP，其中2个还不存在，试想，当R2要转发给一个不存在的IP192.168.0.0/24，检查路由表，发现192.168.0.0/22的聚合路由，于是发送给R1，R1检查路由表，只能匹配默认路由，于是发回给R2，然后就形成路由环路。
所以，我们可以在路由表中，添加所聚合的、不存在的黑洞路由。此时R2要转发给一个不存在的IP192.168.0.0/24，检查路由表，发现192.168.0.0/22的聚合路由与192.168.0.0/24的黑洞路由，根据最长前缀匹配，选择到黑洞路由，之后，该数据报被丢弃，相当于进入黑洞，有去无回。
网络故障导致的路由环路
当图示网络故障，路由表会自动删除所直连的路由记录。此时R1要发送给192.168.1.0/24，检查路由表，发现192.168.0.0/22的聚合路由，于是发送给R1，R1检查路由表，只能匹配默认路由，于是发回给R2，然后就形成路由环路。
所以，我们同样也可以添加黑洞路由。可以设置黑洞路由在故障发送后路由记录被删除后自动生效。</p></div><footer class=entry-footer><span title='2023-07-26 18:09:28 +0800 CST'>七月 26, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;25 字&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 从零开始的计算机网络4-5" href=https://blog.0pt.im/learn/1-4-5/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>从零开始的计算机网络4-4</h2></header><div class=entry-content><p>数据报的发送和转发过程 IP数据报的发送和转发过程包含以下两部分:
主机发送IP数据报
路由器转发IP数据报
为了将重点放在TCP/IP协议栈的网际层发送和转发IP数据报的过程上，在之后的举例中，我们忽略使用ARP协议来获取目的主机或路由器接口的MAC地址的过程以及以太网交换机自学习和转发帧的过程。
举例：
假设C要发送数据给F，源主机如何知道目的主机是否与自己在同一个网络中？通过想与运算。
C怎么知道R的存在？
指定默认网关。
假设A发送数据给D
路由器是如何转发呢？
检查lP数据报首部是否出错:若出错，则直接丢弃该lIP数据报并通告源主机若没有出错，则进行转发
根据lP数据报的目的地址在路由表中查找匹配的条目:若找到匹配的条目，则转发给条目中指示的下一跳若找不到，则丢弃该lP数据报并通告源主机
将目的地址与目的网络相应的地址掩码进行相与，得到的结果为目的网络，即匹配。
路由器隔离广播域，就算广播数据报的目的地址为其他网络，也不转发。
例题：下列网络设备中，能够抑制广播风暴的是
1中继器 2集线器 3网桥 4路由器
A.仅1和2 B.仅3 C.仅3和4 D.仅4
解析：
中继器和集线器工作在物理层，既不隔离冲突域也不隔离广播域。
网桥和交换机(多端口网桥）工作在数据链路层，可以隔离冲突域，不能隔离广播域。
路由器工作在网络层，既隔离冲突域，也隔离广播域。
选D
例题：下列关于IP路由器概念的描述中，正确的是
1运行路由协议，设置路由表
2监测到拥塞时，合理丢弃IP分组
3对收到的IP分组头进行差错校验，确保传输的IP分组不丢失
4根据收到的IP分组的目的IP地址，将其转发到合适的输出线路上
A.仅34 B.仅123 C.仅124 D.1234
解析：
IP路由器工作在TCP/IP体系结构的网际层(或称IP层)，TCP/IP体系结构的网际层并不负责可靠传输，也就是不能确保传输的IP分组不丢失。
IP路由器对收到的lP分组头进行差错校验，当发现错误时会丢弃该IP分组并向源主机发送ICMP差错报告报文(类型为参数错误)。
综上所述，题目中的描述ⅢI是错误的，利用排除法可知选项C正确。题目中的其他描述项都是正确的。
例题：
某网络拓扑如下图所示，其中路由器内网接口、DHCP服务器、WWW服务器与主机1均采用静态IP地址配置，相关地址信息见图中标注;主机2~主机N通过DHCP服务器动态获取IP地址等配置信息。
若主机1的子网掩码和默认网关分别配置为255.255.255.0和111.123.15.2，则该主机是否能访问WWW服务器?是否能访问Internet?请说明理由。
解析：主机1可以访问WWW服务器。从IP地址与子网掩码配置以及物理连接方面看，主机1和wwW服务器在同一网络中。
主机1不能访问Internet，因为它的默认网关错误配置成了DHCP服务器的IP地址,DHCP服务器不具备路由器的功能,无法将IP分组转发到Internet。</p></div><footer class=entry-footer><span title='2023-07-25 18:09:28 +0800 CST'>七月 25, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;47 字&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 从零开始的计算机网络4-4" href=https://blog.0pt.im/learn/1-4-4/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>从零开始的计算机网络4-3</h2></header><div class=entry-content><p>IPv4地址概述 在TCP/IP体系中，IP地址是一个最基本的概念，我们必须把它弄清楚。
IPv4地址就是给因特网(Internet)上的每一台主机(或路由器）的每一个接口分配一个在全世界范围内是唯一的32比特的标识符。
IP地址由因特网名字和数字分配机构ICANN(Internet Corporation for Assigned Names and Numbers)进行分配。
我国用户可向亚太网络信息中心APNIC(Asia Pacific Network Information Center)申请IP地址，需要缴费。
2011年2月3日，互联网号码分配管理局IANA(由ICANN行使职能）宣布，IPv4地址已经分配完毕。
我国在2014至2015年也逐步停止了向新用户和应用分配IPv4地址。同时全面开展商用部署
IPv4地址的编址方法经历了如下三个历史阶段:
1981年 分类编址
1985年 划分子网
1993年 无分类编址
32比特的IPv4地址不方便阅读、记录以及输入等，因此IPv4地址采用点分十进制表示方法以方便用户使用。
例题：请将以下这些32比特的IPv4地址转换为点分十进制形式。
(1) 00001010 11111110 00001111 11110000
(2)10101100 00010000 10111111 11110111
(3)11000000 10101000 10100101 00000111
答案：
(1)10.254.15.240 (2)172.16.191.247 (3)192.168.165.7
二进制与十进制的转换自己学，较简单
分类编址的IPv4地址 注意事项:
只有A类、B类和C类地址可分配给网络中的主机或路由器的各接口
主机号为“全0”的地址是网络地址，不能分配给主机或路由器的各接口
主机号为“全1”的地址是广播地址，不能分配给主机或路由器的各接口
A类地址 可指派的网络数量为2^(8-1) - 2 = 126(减2的原因是除去最小网络号0和最大网络号127)
每个网络中可分配的IP地址数量为2^24 -2= 16777214(减2的原因是除去主机号为全0的网络地址和全1的广播地址)
B类地址 可指派的网络数量为2^(16-2) =16384
每个网络中可分配的IP地址数量为2^16 - 2 = 65534(减2的原因是除去主机号为全0的网络地址和全1的广播地址)
注意:有些教材中指出128.0是保留网络号，B类第一个可指派的网络号为128.1。但根据2002年9月发表的RFC3330文档，128.0网络号已经可以分配了。
C类地址 可指派的网络数量为2^(24-3) = 2097152...</p></div><footer class=entry-footer><span title='2023-07-24 18:09:28 +0800 CST'>七月 24, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;191 字&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 从零开始的计算机网络4-3" href=https://blog.0pt.im/learn/1-4-3/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://blog.0pt.im/zh/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/page/2/>«&nbsp;上一页&nbsp;</a>
<a class=next href=https://blog.0pt.im/zh/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/page/4/>下一页&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://blog.0pt.im/zh/>春风少年兄</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>